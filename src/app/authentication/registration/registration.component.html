<div class="row title">
    <div class="col-sm-4 col-sm-offset-4">
        <h3>Registration</h3>
    </div>    
</div>
<div class="row">
    <div class="col-sm-8 col-sm-offset-2">
        <form [formGroup]="registrationForm" (ngSubmit)="registerUser()" class="form-horizontal" novalidate>
            <div class="form-group row">
                <label for="login" class="col-sm-3 col-sm-offset-2 control-label text-muted">Login</label>
                <div class="col-sm-5">
                    <input id="login" type="text" class="form-control" formControlName="login">
                    <div *ngIf="registrationForm.controls['login'].touched && registrationForm.controls['login'].errors">
                        <div 
                            *ngIf="registrationForm.controls['login'].errors.required"
                            class="alert alert-danger">Login is required.</div>
                        <div 
                            *ngIf="registrationForm.controls['login'].errors.minlength"
                            class="alert alert-danger">
                                Login length must be {{registrationForm.controls["login"].errors.minlength.requiredLength}} or more symbols.
                        </div>
                        <div 
                            *ngIf="registrationForm.controls['login'].errors.maxlength"
                            class="alert alert-danger">Login length must be less than {{registrationForm.controls["login"].errors.maxlength.requiredLength}} symbols.</div>    
                        <div 
                            *ngIf="registrationForm.controls['login'].errors.checkCorrectIdentifier"
                            class="alert alert-danger">Login contains wrong symbols.</div>
                        <div 
                            *ngIf="registrationForm.controls['login'].errors?.checkUniqueLogin"
                            class="alert alert-danger">Login already exists, please choose another login.</div>     
                    </div>      
                </div>
            </div> 
            <div class="form-group row">
                <label for="name" class="col-sm-3 col-sm-offset-2 control-label text-muted">Name</label>
                <div class="col-sm-5">
                    <input id="name" type="text" class="form-control" formControlName="name">
                    <div *ngIf="registrationForm.controls['name'].touched && registrationForm.controls['name'].errors">
                        <div 
                            *ngIf="registrationForm.controls['name'].errors.minlength"
                            class="alert alert-danger">
                                Name length must be {{registrationForm.controls['name'].errors.minlength.requiredLength}} or more symbols.
                        </div>
                        <div 
                            *ngIf="registrationForm.controls['name'].errors.maxlength"
                            class="alert alert-danger">Name length must be less than {{registrationForm.controls["name"].errors.maxlength.requiredLength}} symbols.</div>    
                        <div 
                            *ngIf="registrationForm.controls['name'].errors.checkCorrectIdentifier"
                            class="alert alert-danger">Name contains wrong symbols.</div>        
                    </div>  
                </div>
            </div> 
            <div class="form-group row">
                <label for="email"  class="col-sm-3 col-sm-offset-2 control-label text-muted">Email</label>
                <div class="col-sm-5">
                    <input id="email" type="text" class="form-control" formControlName="email">
                    <div *ngIf="registrationForm.controls['email'].touched && registrationForm.controls['email'].errors">
                        <div 
                            *ngIf="registrationForm.controls['email'].errors.required"
                            class="alert alert-danger">Email is required.</div>
                        <div 
                            *ngIf="registrationForm.controls['email'].errors.checkCorrectEmail"
                            class="alert alert-danger">Email hasn't incorrect format.</div>
                        <div 
                            *ngIf="registrationForm.controls['email'].errors?.checkUniqueEmail"
                            class="alert alert-danger">Email already registered, please choose another email.</div>     
                    </div>      
                </div>
            </div>
            <div  formGroupName="passwordgroup" class="row">
                <label for="password" class="col-sm-3 col-sm-offset-2 control-label text-muted">Password</label>
                <div class="col-sm-5">
                    <input id="password" type="password" class="form-control" formControlName="password">
                    <div *ngIf="registrationForm.get('passwordgroup').get('password').touched && registrationForm.get('passwordgroup').get('password').errors">
                        <div 
                            *ngIf="registrationForm.get('passwordgroup').get('password').errors.required"
                            class="alert alert-danger">Password is required.</div>
                        <div 
                            *ngIf="registrationForm.get('passwordgroup').get('password').minlength"
                            class="alert alert-danger">
                                Password length must be {{registrationForm.get("passwordgroup").get("password").errors.minlength.requiredLength}} or more symbols.
                        </div>
                        <div 
                            *ngIf="registrationForm.get('passwordgroup').get('password').errors.maxlength"
                            class="alert alert-danger">Password length must be less than {{registrationForm.get("passwordgroup").get("password").errors.maxlength.requiredLength}} symbols.</div>    
                    </div>  
                </div>
            </div> 
            <div  formGroupName="passwordgroup" class="row">
                <label for="password_confirmation" class="col-sm-3 col-sm-offset-2 control-label text-muted">Password confirm</label>
                <div class="col-sm-5">
                    <input id="password_confirmation" type="password" class="form-control" formControlName="password_confirmation">
                    <div 
                        *ngIf="registrationForm.get('passwordgroup').get('password_confirmation').touched && registrationForm.get('passwordgroup').hasError('passwordConfirm')"
                        class="alert alert-danger">Password fiels must match.</div>
                </div>
            </div> 
            <div class="form-group row">
                <div class="col-sm-12 col-sm-offset-4">
                    <button type="submit" class="btn btn-primary btn-lg"[disabled]="!registrationForm.valid">Register</button>
                    <button class="btn btn-danger btn-lg" type="reset">Reset</button>
                </div>
            </div>
            <div *ngIf="message" class="col-sm-12 alert alert-warning pull-right" role="alert">
                {{message}}
            </div> 
        </form>
    </div>
</div>    